{% extends "base.html" %}

{% block title %}Build - Your PC{% endblock %}

{% block content %}
<h1>⚙️ Build Your Dream PC</h1>
<p>Select your components below:</p>

<form method="POST" action="/build" style="max-width: 600px; margin: auto; text-align: left;">

    <!-- Processor Brand -->
    <label for="brand">Processor Brand:</label>
    <select id="brand" name="brand" onchange="updateComponents()" style="width:100%; padding:8px;">
        <option value="">-- Select --</option>
        <option value="intel">Intel</option>
        <option value="amd">AMD</option>
    </select><br><br>

    <!-- Processor -->
    <label for="processor">Processor:</label>
    <select id="processor" name="processor" style="width:100%; padding:8px;">
        <option value="">-- Select a brand first --</option>
    </select><br><br>

    <!-- Motherboard -->
    <label for="motherboard">Motherboard:</label>
    <select id="motherboard" name="motherboard" style="width:100%; padding:8px;">
        <option value="">-- Select a processor first --</option>
    </select><br><br>

    <!-- RAM -->
    <label for="ram">RAM:</label>
    <select id="ram" name="ram" style="width:100%; padding:8px;">
        <option value="8GB DDR3">8GB DDR3</option>
        <option value="16GB DDR3">16GB DDR3</option>
        <option value="8GB DDR4">8GB DDR4</option>
        <option value="16GB DDR4">16GB DDR4</option>
        <option value="32GB DDR4">32GB DDR4</option>
        <option value="16GB DDR5">16GB DDR5</option>
        <option value="32GB DDR5">32GB DDR5</option>
        <option value="64GB DDR5">64GB DDR5</option>
    </select><br><br>

    <!-- SSD -->
    <label for="ssd">SSD:</label>
    <select id="ssd" name="ssd" style="width:100%; padding:8px;">
        <option value="256GB SATA SSD">256GB SATA SSD</option>
        <option value="512GB SATA SSD">512GB SATA SSD</option>
        <option value="1TB SATA SSD">1TB SATA SSD</option>
        <option value="512GB NVMe Gen3">512GB NVMe Gen3</option>
        <option value="1TB NVMe Gen3">1TB NVMe Gen3</option>
        <option value="1TB NVMe Gen4">1TB NVMe Gen4</option>
        <option value="2TB NVMe Gen4">2TB NVMe Gen4</option>
        <option value="2TB NVMe Gen5">2TB NVMe Gen5</option>
    </select><br><br>

    <!-- GPU -->
    <label for="gpu">Graphics Card:</label>
    <select id="gpu" name="gpu" style="width:100%; padding:8px;">
        <option value="NVIDIA GTX 750 Ti">NVIDIA GTX 750 Ti</option>
        <option value="NVIDIA GTX 1060">NVIDIA GTX 1060</option>
        <option value="NVIDIA GTX 1660">NVIDIA GTX 1660</option>
        <option value="NVIDIA RTX 2060">NVIDIA RTX 2060</option>
        <option value="NVIDIA RTX 3060">NVIDIA RTX 3060</option>
        <option value="NVIDIA RTX 4070">NVIDIA RTX 4070</option>
        <option value="NVIDIA RTX 4090">NVIDIA RTX 4090</option>
        <option value="AMD RX 550">AMD RX 550</option>
        <option value="AMD RX 580">AMD RX 580</option>
        <option value="AMD RX 6700 XT">AMD RX 6700 XT</option>
        <option value="AMD RX 7900 XTX">AMD RX 7900 XTX</option>
    </select><br><br>

    <!-- PSU -->
    <label for="psu">Power Supply (PSU):</label>
    <select id="psu" name="psu" style="width:100%; padding:8px;">
        <option value="450W Bronze">450W Bronze</option>
        <option value="500W Bronze">500W Bronze</option>
        <option value="650W Bronze">650W Bronze</option>
        <option value="750W Gold">750W Gold</option>
        <option value="850W Gold">850W Gold</option>
        <option value="1000W Platinum">1000W Platinum</option>
    </select><br><br>

    <!-- Cooling -->
    <label for="cooling">Cooling Fans:</label>
    <select id="cooling" name="cooling" style="width:100%; padding:8px;">
        <option value="1 x 120mm Fan">1 x 120mm Fan</option>
        <option value="2 x 120mm Fans">2 x 120mm Fans</option>
        <option value="3 x 120mm Fans">3 x 120mm Fans</option>
        <option value="2 x 140mm Fans">2 x 140mm Fans</option>
    </select><br><br>

    <!-- AIO -->
    <label for="aio">AIO Cooler:</label>
    <select id="aio" name="aio" style="width:100%; padding:8px;">
        <option value="No AIO">No AIO</option>
        <option value="120mm AIO">120mm AIO</option>
        <option value="240mm AIO">240mm AIO</option>
        <option value="360mm AIO">360mm AIO</option>
    </select><br><br>

    <button type="submit" style="width:100%; padding:10px;">Save Build</button>
</form>

<script>
function updateComponents() {
    let brand = document.getElementById("brand").value;
    let processor = document.getElementById("processor");
    let motherboard = document.getElementById("motherboard");

    // Clear previous options
    processor.innerHTML = "";
    motherboard.innerHTML = "";

    if (brand === "intel") {
        let intelCPUs = ["Intel i3 4th Gen", "Intel i5 4th Gen", "Intel i7 8th Gen", "Intel i9 10th Gen", "Intel i5 12th Gen", "Intel i7 13th Gen", "Intel i9 14th Gen"];
        let intelBoards = ["H61", "B360", "Z370", "Z490", "B660", "Z690", "Z790"];

        intelCPUs.forEach(cpu => {
            let opt = document.createElement("option");
            opt.text = cpu;
            opt.value = cpu;
            processor.add(opt);
        });

        intelBoards.forEach(mb => {
            let opt = document.createElement("option");
            opt.text = mb;
            opt.value = mb;
            motherboard.add(opt);
        });

    } else if (brand === "amd") {
        let amdCPUs = ["AMD FX-8350", "Ryzen 3 1200", "Ryzen 5 2600", "Ryzen 7 3700X", "Ryzen 5 5600X", "Ryzen 7 5800X3D", "Ryzen 9 7950X3D"];
        let amdBoards = ["AM3+", "B350", "B450", "X470", "B550", "X570", "B650", "X670"];

        amdCPUs.forEach(cpu => {
            let opt = document.createElement("option");
            opt.text = cpu;
            opt.value = cpu;
            processor.add(opt);
        });

        amdBoards.forEach(mb => {
            let opt = document.createElement("option");
            opt.text = mb;
            opt.value = mb;
            motherboard.add(opt);
        });
    } else {
        let opt = document.createElement("option");
        opt.text = "-- Select a brand first --";
        opt.value = "";
        processor.add(opt);

        let opt2 = document.createElement("option");
        opt2.text = "-- Select a processor first --";
        opt2.value = "";
        motherboard.add(opt2);
    }
}
</script>

{% endblock %}
